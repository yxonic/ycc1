给助教/老师的说明
=================

助教/老师您好，出于一定程度的强迫症，我希望能够保持我现在的目录结构，
这样会与目前的作业要求不符，但是我也提供了一些方便检查的手段。本文档会
对于我的目录结构以及如何运行测试做出描述。

首先我将所有的二进制文件（binary）都放在bin/目录下，因此我将这个目录直
接从git库中排除了。如果有脚本，我都会另外放在scripts/下。

其次，所有编译器本身的相关程序，比如flex、bison源程序、LLVM tutorial编
译器源代码、自己的编译器代码，都放置在src/下，而用作测试的程序，包括编
译各阶段的测试、验证程序，测试用例等（比如这次的三个C1程序），都放置在
test/下（其中测试用例放在test/examples/下）。

另外，include/的中放置共用的头文件，doc/中放置有关实现的笔记、文档等。

为了方便，我在Makefile中写了许多target。项目作为一个工程，相关的target
在README中有说明。而另外一些target则纯粹方便检查，具体来讲，助教在检查
第n次作业时，只需要执行 make Pn 即可。

对于每次实验的详细说明今后会在这个文档中更新。

# P1

P1的三个c1程序放在test/examples/下，example1.c1是一个用来检查编译器错
误处理的程序，内含文法、语法的错误，以及一些并没有错但是可以用来考验编
译器的代码。

example2是一个简单的插入排序程序。由于没有逻辑运算，只能使用flag控制循环而在
内部通过条件判断控制flag。

example3是一个判断素数的程序，展示了在c1中调用函数的用法。循环的处理同上。而
函数数据通过全局变量进行交互。

有关LLVM的学习笔记在doc/clang.md中。

# P2

P2要求的工作的编译、测试，可以通过以下命令进行。

    make P2

修改后的kaleidoscope程序以及testlexer程序输出均为token流，格式为
<TokenType[, Value]>。测试用输入文件保存于`test/examples`。

有关clang的学习笔记在doc/clang.md中。

# P3

P3要求的工作的编译、测试，可以通过以下命令进行。

    make P3

测试用输入文件保存于`test/examples/`。

有关tutorial的学习笔记在`doc/kaleidoscope.md`中。3.1中问题则在
`doc/P3.md`中回答。
